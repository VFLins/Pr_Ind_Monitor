---
title: "Indicador de Preços das GPUs"
output: 
  flexdashboard::flex_dashboard:
    logo: graphics-card-wh48p.png
    favicon: graphics-card-color24p.png
    navbar:
      - {icon: "ion-social-github", title: "Código",href: "https://github.com/VFLins/Prind_Monitor"}
      - {icon: "ion-android-person", title: "Sobre mim", href: "https://sites.google.com/view/vflins/"}
      - {icon: "ion-cash", title: "Me apoie", href: "https://www.paypal.com/donate/?hosted_button_id=LCT6TBWH4LN8S"}
    css: "theme.css"
---

```{r setup, include=FALSE, message=FALSE}
source("functions.R")

library(bslib)
library(htmltools)
library(flexdashboard)
prices <- readRDS("data/prices.rds")
```

INICIO {data-orientation=rows}
=======================================================================

```{r pg1-setup-elements}
plot_and_title <- card(
    height="92%",
    card_title(h1("Índice dos preços de placas de vídeo")), 
    plot_indexr()
)

plot_info <- card(
    card_title(h1("Informações")),
    p("Atualizamos o banco de dados todos os dias, com cada modelo específico de placa de vídeo sendo atualizado a cada 3 dias. Aqui no índice, os preços são agregados em conjuntos de 7 dias para uma maior consistência."),
    p("Em verde vemos a média simples do melhor preço encontrado para cada chip gráfico acompanhado aqui, independentemente do modelo ou fabricante, este é nosso índice de preços."),
    p("Já em branco temos uma previsão do que esperamos para o valor do índice até o fim da próxima semana."),
    p("Algumas instabilidades aparecem nas primeiras semanas do índice, isto se deve à falta de modelos de placas de vídeo inseridos na base durante as primeiras semanas."),
    p("Na última semana de agosto de 2023 surgiram problemas no processo de coleta que só foram corrigidos ao fim da segunda semana de setembro do mesmo ano.")
)
```


Row 
-----------------------------------------------------------------------

###

```{r pg1-content1-indexplot}
plot_and_title
```

### {data-width=200}

```{r pg1-content2-indexinfo}
plot_info
```

Row {data-height=80}
-----------------------------------------------------------------------

### Tendência do índice nos últimos meses

```{r pg1-content3-valuetrend}
trend_str <- index_data
trend <- cor(trend_str$Indice, trend_str$Semana)

if (trend > 0) {
    display_icon <- "ion-arrow-graph-up-right"
} else {
    display_icon <- "ion-arrow-graph-down-right"
}

if (trend > .35) {
    display_message <- "Preços subindo"
    display_color <- cores["second"]
} else if (trend < -.35) {
    display_message <- "Preços caindo"
    display_color <- cores["third"]
} else {
    display_message <- "Preços estáveis"
    display_color <- cores["fg"]
}
valueBox(display_message, icon=display_icon, color=display_color)
```

### Quantidade de dados usados na construção do índice

```{r pg1-content4-datacount}
valueBox(
    paste(nrow(prices), "preços coletados"),
    icon="ion-stats-bars", color=cores["fg"]
)
```

### Última atualização

```{r pg1-content5-lastupdate}
update_date <- format(max(PRICES$LastUpdate), "%d de %B de %Y")
valueBox(update_date, icon="ion-android-calendar", color=cores["fg"])
```

JOGOS {data-navmenu="PREÇO E PERFORMANCE"}
=======================================================================

Row {data-height=550 .tabset .tabset-pills}
-----------------------------------------------------------------------

### Full HD (1080p)

```{r}
plot_scatter_raster("fhd_ultra")
```

### Quad HD (1440p)

```{r}
plot_scatter_raster("qhd_ultra")
```

### 4K (2160p)

```{r}
plot_scatter_raster("uhd_ultra")
```


JOGOS COM RAY TRACING {data-navmenu="PREÇO E PERFORMANCE"}
=======================================================================

Row {data-height=550}
-----------------------------------------------------------------------

### Posicionamento das placas {data-height=550}

```{r}

```

### Melhores preços {data-height=550}

```{r}

```

Row {data-height=450}
-----------------------------------------------------------------------

### Posicionamento das placas {data-height=550 data-navmenu="Jogos com Ray Tracing"}

```{r}

```

### Melhores preços {data-height=550 data-navmenu="Jogos com Ray Tracing"}

```{r}

```

RENDERIZAÇÃO 3D {data-navmenu="PREÇO E PERFORMANCE"}
=======================================================================

Row {data-height=550}
-----------------------------------------------------------------------

### Posicionamento das placas {data-height=550}

```{r}

```

### Melhores preços {data-height=550}

```{r}

```

Row {data-height=450}
-----------------------------------------------------------------------

### Posicionamento das placas {data-height=550 data-navmenu="Jogos com Ray Tracing"}

```{r}

```

### Melhores preços {data-height=550 data-navmenu="Jogos com Ray Tracing"}

```{r}

```

RENDERIZAÇÃO VIDEO {data-navmenu="PREÇO E PERFORMANCE"}
=======================================================================

Row {data-height=550}
-----------------------------------------------------------------------

### Posicionamento das placas {data-height=550}

```{r}

```

### Melhores preços {data-height=550}

```{r}

```

Row {data-height=450}
-----------------------------------------------------------------------

### Posicionamento das placas {data-height=550 data-navmenu="Jogos com Ray Tracing"}

```{r}

```

### Melhores preços {data-height=550 data-navmenu="Jogos com Ray Tracing"}

```{r}

```

TREINAMENTO DE IA {data-navmenu="PREÇO E PERFORMANCE"}
=======================================================================

Row {data-height=550}
-----------------------------------------------------------------------

### Posicionamento das placas {data-height=550}

```{r}

```

### Melhores preços {data-height=550}

```{r}

```

Row {data-height=450}
-----------------------------------------------------------------------

### Posicionamento das placas {data-height=550 data-navmenu="Jogos com Ray Tracing"}

```{r}

```

### Melhores preços {data-height=550 data-navmenu="Jogos com Ray Tracing"}

```{r}

```

SOBRE
======================================================================

Ícones da logo e favicon: <a href="https://www.flaticon.com/free-icons/graphic-card" title="graphic-card icons">Graphic-card icons created by prettycons - Flaticon</a>
